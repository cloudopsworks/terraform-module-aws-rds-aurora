<!-- 
  ** DO NOT EDIT THIS FILE
  ** 
  ** This file was automatically generated. 
  ** 1) Make all changes to `README.yaml` 
  ** 2) Run `make init` (you only need to do this once)
  ** 3) Run`make readme` to rebuild this file. 
  -->
[![README Header][readme_header_img]][readme_header_link]

[![cloudopsworks][logo]](https://cloudops.works/)

# Terraform AWS RDS Aurora Cluster/DB Module




Production-ready Terraform module to provision Amazon Aurora (MySQL or PostgreSQL) clusters on AWS.
Supports provisioned and Serverless v2 engine modes, multi-AZ read replicas, encryption with KMS,
snapshot-based recovery, and optional managed/rotated master password via AWS Secrets Manager.
Designed for first-class use with Terragrunt and compatible with common Gruntwork-style boilerplates.


---

This project is part of our comprehensive approach towards DevOps Acceleration. 
[<img align="right" title="Share via Email" width="24" height="24" src="https://docs.cloudops.works/images/ionicons/ios-mail.svg"/>][share_email]
[<img align="right" title="Share on Google+" width="24" height="24" src="https://docs.cloudops.works/images/ionicons/logo-googleplus.svg" />][share_googleplus]
[<img align="right" title="Share on Facebook" width="24" height="24" src="https://docs.cloudops.works/images/ionicons/logo-facebook.svg" />][share_facebook]
[<img align="right" title="Share on Reddit" width="24" height="24" src="https://docs.cloudops.works/images/ionicons/logo-reddit.svg" />][share_reddit]
[<img align="right" title="Share on LinkedIn" width="24" height="24" src="https://docs.cloudops.works/images/ionicons/logo-linkedin.svg" />][share_linkedin]
[<img align="right" title="Share on Twitter" width="24" height="24" src="https://docs.cloudops.works/images/ionicons/logo-twitter.svg" />][share_twitter]


[![Terraform Open Source Modules](https://docs.cloudops.works/images/terraform-open-source-modules.svg)][terraform_modules]



It's 100% Open Source and licensed under the [APACHE2](LICENSE).







We have [*lots of terraform modules*][terraform_modules] that are Open Source and we are trying to get them well-maintained!. Check them out!






## Introduction

This module abstracts the complexity of building secure and scalable Amazon Aurora clusters. It
exposes a compact input model (settings, vpc, security_groups) with sensible defaults while remaining
flexible enough for advanced scenarios like global clusters, serverless scaling, snapshot recovery, and
password rotation. It is cloud-native, tag-aware, and non-intrusive: you can bring your own networking
and security groups or let the module help with sane defaults.

Integration with Terragrunt is straightforward. If you work with Gruntwork-style scaffolding or any
similar boilerplate (often stored under a `.boilerplate` directory), you can point your Terragrunt
configuration at this module and pass inputs using plain HCL maps. This README provides a full usage
reference and a complete set of Terragrunt examples to get you up and running quickly.

## Usage


**IMPORTANT:** The `master` branch is used in `source` just as an example. In your code, do not pin to `master` because there may be breaking changes between releases.
Instead pin to the release tag (e.g. `?ref=vX.Y.Z`) of one of our [latest releases](https://github.com/cloudopsworks/terraform-module-aws-rds-aurora/releases).


This module is designed for Terragrunt-first workflows. Always pin to a release tag (e.g. `?ref=vX.Y.Z`).
Below is a minimal standalone Terragrunt configuration. See the full Inputs reference and
additional examples further below.

```hcl
terraform {
  source = "git::https://github.com/cloudopsworks/terraform-module-aws-rds-aurora.git?ref=vX.Y.Z"
}

inputs = {
  settings = {
    name_prefix     = "mydb"
    engine_type     = "aurora-postgresql"
    engine_version  = "15.3"
    instance_size   = "db.r6g.large"
    availability_zones = ["us-east-1a", "us-east-1b"]
    backup = { retention_period = 7 }
    maintenance = { window = "sun:03:00-sun:04:00" }
  }

  vpc = {
    vpc_id       = "vpc-xxxxxxxxxxxx"
    subnet_group = "mydb-subnet-group"
    subnet_ids   = ["subnet-aaaa", "subnet-bbbb"]
  }

  security_groups = {
    create = false
    name   = "sg-mydb"
  }

  org = {
    organization_name = "acme"
    organization_unit = "platform"
    environment_type  = "prod"
    environment_name  = "us-east-1"
  }

  extra_tags = { cost_center = "dba" }
  run_hoop   = false
}
```

Inputs reference (Terragrunt `inputs`):

- settings (object map)
- vpc (object map)
- security_groups (object map)
- run_hoop (bool)
- is_hub (bool), spoke_def (string), org (object), extra_tags (map(string))

Full variables documentation (YAML with inline comments):

```yaml
# settings:                                      # (Required) Root map for Aurora configuration
#   recovery:                                    # (Optional) Restore cluster from snapshot or another cluster; conflicts with creating a fresh cluster
#     enabled: true | false                      # (Optional) Enable recovery mode; default: false
#     cluster_identifier: "rds-cluster-name"     # (Optional) Source cluster identifier when recovering from another cluster
#     snapshot_identifier: "cluster-snap-name"   # (Optional) Specific cluster snapshot identifier to restore from
#   global_cluster:                              # (Optional) Manage Aurora Global Database
#     create: true | false                       # (Optional) Create a new Global Cluster; default: false
#     id: "arn:aws:rds:...:global-cluster:mydb" # (Optional) Existing Global Cluster ARN/ID to join; conflicts with create=true
#   name: "mydb-name"                            # (Optional) Explicit cluster identifier; if set, overrides name_prefix
#   name_prefix: "mydb"                          # (Required) When `name` not provided; used to build cluster/instances names
#   database_name: "mydb"                        # (Optional) Initial DB name; default: "cluster_db"; must be null when migration.enabled=true
#   master_username: "admin"                     # (Optional) Master user name; default: "cluster_root"; must be null when migration.enabled=true
#   engine_type: "aurora-postgresql"            # (Required) One of: "aurora-postgresql", "aurora-mysql"
#   engine_version: "15.3"                       # (Required) Aurora engine version (e.g., Postgres 15.x, MySQL 8.0.x supported by AWS)
#   engine_mode: "provisioned" | "serverless"    # (Optional) Engine mode; for Serverless v2 this is kept as "provisioned" by AWS
#   auto_minor_upgrade: true | false              # (Optional) Auto minor version upgrade for instances; default: false
#   availability_zones: ["us-east-1a", "us-east-1b"] # (Required) List of AZs for cluster/instances
#   rds_port: 5432                                # (Optional) Cluster port; default: 5432 (5432 for PG, 3306 for MySQL typical)
#   apply_immediately: true | false               # (Optional) Apply changes immediately; default: true
#   insights_mode: "standard" | "advanced"        # (Optional) Database Insights mode; default: "standard"
#   publicly_accessible: true | false             # (Optional) Make instances public; default: false
#   storage:
#     encryption:
#       enabled: true | false                     # (Optional) Enable at-rest encryption; default: false
#       kms_key_id: "1234abcd-..."               # (Optional) Use existing KMS key id
#       kms_key_arn: "arn:aws:kms:...:key/..."   # (Optional) Use existing KMS key ARN
#       kms_key_alias: "alias/aws/rds"           # (Optional) Use existing KMS key alias (with or without "alias/" prefix)
#       deletion_window_in_days: 30               # (Optional) If module creates KMS key; default: 30
#       rotation_period_in_days: 90               # (Optional) If module creates KMS key; default: 90
#     type: "" | "aurora-iopt1" | "io1" | "io2" # (Optional) Storage type; defaults to provider/account default; iops required for io1/io2
#     iops: 1000                                  # (Optional) Required when type is io1/io2
#   monitoring:
#     interval: 0                                 # (Optional) Enhanced monitoring interval seconds; one of: 0,1,5,10,15,30,60; default: 0 (disabled)
#   performance:
#     enabled: true | false                       # (Optional) Enable Performance Insights; default: false
#     retention_period: 7                         # (Optional) Retention in days; default: 7
#     encryption:
#       enabled: true | false                     # (Optional) Enable encryption for PI; default: false
#       kms_key_alias: "alias/pi-key"            # (Optional) Existing KMS alias
#       kms_key_id: "abcd-1234"                  # (Optional) Existing KMS key id
#       kms_key_arn: "arn:aws:kms:..."           # (Optional) Existing KMS key arn
#   maintenance:
#     window: "sun:03:00-sun:04:00"               # (Optional) Preferred maintenance window; default: sun:03:00-sun:04:00
#   backup:
#     retention_period: 7                         # (Optional) Snapshot retention days; default: 5
#     window: "01:00-02:30"                       # (Optional) Preferred backup window; default: 00:45-02:45
#     copy_tags: true | false                     # (Optional) Copy tags to snapshots; default: true
#   deletion_protection: true | false             # (Optional) Protect cluster from deletion; default: true
#   allow_upgrade: true | false                   # (Optional) Allow major version upgrade; default: true
#   replicas:
#     count: 2                                    # (Optional) Number of instances; default: 1 (writer only)
#     replica_0:
#       availability_zone: "us-east-1a"           # (Optional) AZ override for this replica
#       promotion_tier: 10                         # (Optional) Lower number = higher failover priority (1-15)
#       maintenance_window: "wed:03:00-wed:04:00" # (Optional) Per-instance maintenance window
#     replica_1:
#       availability_zone: "us-east-1b"           # (Optional)
#       instance_size: "db.r5.xlarge"             # (Optional) Instance class override for this replica
#   instance_size: "db.r6g.large" | "db.serverless" # (Required) Instance class; use "db.serverless" for Serverless v1/v2
#   serverless:
#     enabled: true | false                        # (Optional) Enable Serverless mode; default: false
#     v2: true | false                             # (Optional) Use Serverless v2; default: false
#     scaling_configuration:
#       min_capacity: 0.5                          # (Optional) Minimum ACU (v2) or capacity (v1)
#       max_capacity: 16.0                         # (Optional) Maximum ACU (v2) or capacity (v1)
#       seconds_until_auto_pause: 300              # (Optional) Auto pause after seconds (v1 and v2)
#       auto_pause: true | false                   # (Optional) v1 only
#       timeout_action: ForceApplyCapacityChange   # (Optional) v1 only; ForceApplyCapacityChange | RollbackCapacityChange
#   managed_password: true | false                 # (Optional) Store/manage master password in Secrets Manager; default: false; do not set if migration.enabled=true
#   managed_password_rotation: true | false        # (Optional) Enable rotation for managed password; default: false
#   password_secret_kms_key_id: "arn:aws:kms:..." # (Optional) KMS key/alias for the password secret when rotation enabled
#   rotation_lambda_name: "rds-rotation-lambda"   # (Optional) External rotation Lambda name if not managed by AWS
#   password_rotation_period: 90                   # (Optional) Rotation period in days; default: 90
#   rotation_duration: "1h"                        # (Optional) Rotation Lambda duration; default: 1h
#   iam:
#     database_authentication_enabled: true | false # (Optional) Enable IAM DB auth; default: true
#     authentication_roles:                        # (Optional) Attach IAM roles to cluster for auth
#       - "arn:aws:iam::123456789012:role/role-name"
#   cloudwatch:
#     retention_days: 90                           # (Optional) Log retention days; default: 90
#     retain: true | false                         # (Optional) Prevent log group destroy on delete; default: true
#     log_exports:
#       - error
#       - audit
#       - general
#       - iam-db-auth-error
#       - instance
#       - postgresql                               # (PostgreSQL)
#       - slowquery
#   parameter_group:
#     create: true | false                         # (Optional) Create dedicated DB parameter group; default: false
#     family: "aurora-postgresql15"               # (Optional) If not set, computed as engine_type+engine_version
#     skip_destroy: true | false                   # (Optional) Keep parameter group on destroy; default: false
#     parameters:
#       - name: "PARAM NAME"
#         value: "PARAM VALUE"
#         apply_method: "immediate" | "pending-reboot"
#   migration:
#     enabled: true | false
#     in_progress: true | false
#     source_rds_instance: "rds-instance-id"
#   hoop:
#     enabled: true | false
#     agent: "hoop-agent-name"
#     tags: ["tag1", "tag2"]
#   events:
#     enabled: true | false
#     sns_topic_arn: "arn:aws:sns:...:my-topic"
#     sns_topic_name: "my-sns-topic"
#     categories: ["availability", "deletion", "failover", "failure", "low storage", "maintenance", "notification", "read replica", "recovery", "restore", "security", "storage"]
#     instances: true | false

# vpc:
#   vpc_id: "vpc-12345678901234"
#   subnet_group: "db-subnet-group-name"
#   subnet_ids:
#     - "subnet-abcdef123456789"
#     - "subnet-abcdef123456781"
#     - "subnet-abcdef123456782"

# security_groups:
#   create: true | false
#   name: "sg-rds"
#   group_ids:
#     - "sg-0123456789abcdef0"
#   allow_cidrs:
#     - "1.2.3.4/32"
#     - "10.0.0.0/16"
#   allow_security_groups:
#     - "sg-name-123456"
#     - "sg-name-abcdef"
```

## Quick Start

1. Create a new Terragrunt folder (e.g., `live/ue1/prod/aurora`).
2. Add a `terragrunt.hcl` with the minimal inputs shown above.
3. Run `terragrunt init` and `terragrunt apply`.
4. Optionally enable encryption, events, and performance insights as needed.

Minimal inputs (copy/paste):

```hcl
terraform {
  source = "git::https://github.com/cloudopsworks/terraform-module-aws-rds-aurora.git?ref=vX.Y.Z"
}
inputs = {
  settings = {
    name_prefix        = "mydb"
    engine_type        = "aurora-postgresql"
    engine_version     = "15.3"
    instance_size      = "db.r6g.large"
    availability_zones = ["us-east-1a", "us-east-1b"]
  }
  vpc = { vpc_id = "vpc-xxxxxxxxxxxx", subnet_group = "mydb-subnet-group" }
  security_groups = { create = false, name = "sg-mydb" }
  org = { organization_name = "acme", organization_unit = "platform", environment_type = "prod", environment_name = "ue1" }
}
```

2) Multi-AZ with 2 replicas and per-replica overrides

```hcl
terraform { source = "git::https://github.com/cloudopsworks/terraform-module-aws-rds-aurora.git?ref=vX.Y.Z" }

inputs = {
  settings = {
    name_prefix        = "orders"
    engine_type        = "aurora-postgresql"
    engine_version     = "15.3"
    instance_size      = "db.r6g.large"
    availability_zones = ["us-east-1a", "us-east-1b"]
    replicas = {
      count = 2
      replica_0 = {
        availability_zone  = "us-east-1a"
        promotion_tier     = 10
        maintenance_window = "wed:03:00-wed:04:00"
      }
      replica_1 = {
        availability_zone = "us-east-1b"
        promotion_tier    = 15
      }
    }
    backup = { retention_period = 7, copy_tags = true }
    maintenance = { window = "sun:03:00-sun:04:00" }
  }
  vpc = { vpc_id = "vpc-xxxx", subnet_group = "orders-subnet-group", subnet_ids = ["subnet-a", "subnet-b"] }
  security_groups = { create = false, name = "sg-orders" }
}
```

3) Serverless v2 with scaling configuration

```hcl
terraform { source = "git::https://github.com/cloudopsworks/terraform-module-aws-rds-aurora.git?ref=vX.Y.Z" }

inputs = {
  settings = {
    name_prefix    = "srvless"
    engine_type    = "aurora-postgresql"
    engine_version = "15.3"
    instance_size  = "db.serverless"
    serverless = {
      enabled = true
      v2      = true
      scaling_configuration = {
        min_capacity = 1
        max_capacity = 10
        seconds_until_auto_pause = 300
      }
    }
    availability_zones = ["us-east-1a", "us-east-1b"]
  }
  vpc = { vpc_id = "vpc-xxxx", subnet_group = "srvless-subnet-group", subnet_ids = ["subnet-a", "subnet-b"] }
  security_groups = { create = false, name = "sg-srvless" }
}
```

4) Restore from latest snapshot of an existing cluster

```hcl
terraform { source = "git::https://github.com/cloudopsworks/terraform-module-aws-rds-aurora.git?ref=vX.Y.Z" }

inputs = {
  settings = {
    name_prefix    = "restore"
    engine_type    = "aurora-postgresql"
    engine_version = "15.3"
    instance_size  = "db.r6g.large"
    recovery = {
      enabled            = true
      cluster_identifier = "rds-source-cluster-identifier" # or set snapshot_identifier instead
      # snapshot_identifier = "rds-cluster-snapshot-name"
    }
    availability_zones = ["us-east-1a", "us-east-1b"]
  }
  vpc = { vpc_id = "vpc-xxxx", subnet_group = "restore-subnet-group", subnet_ids = ["subnet-a", "subnet-b"] }
  security_groups = { create = false, name = "sg-restore" }
}
```

5) Managed password in AWS Secrets Manager with rotation

```hcl
terraform { source = "git::https://github.com/cloudopsworks/terraform-module-aws-rds-aurora.git?ref=vX.Y.Z" }

inputs = {
  settings = {
    name_prefix                 = "securedb"
    engine_type                 = "aurora-postgresql"
    engine_version              = "15.3"
    instance_size               = "db.r6g.large"
    managed_password            = true
    managed_password_rotation   = true
    password_secret_kms_key_id  = "alias/aws/rds" # or a custom KMS key ARN
    password_rotation_period    = 90
    rotation_duration           = "1h"
    availability_zones          = ["us-east-1a", "us-east-1b"]
  }
  vpc = { vpc_id = "vpc-xxxx", subnet_group = "secure-subnet-group", subnet_ids = ["subnet-a", "subnet-b"] }
  security_groups = { create = false, name = "sg-secure" }
}
```

6) Create a Global Cluster wrapper and attach this cluster

```hcl
terraform { source = "git::https://github.com/cloudopsworks/terraform-module-aws-rds-aurora.git?ref=vX.Y.Z" }

inputs = {
  settings = {
    name_prefix    = "globaldb"
    engine_type    = "aurora-postgresql"
    engine_version = "15.3"
    instance_size  = "db.r6g.large"
    global_cluster = {
      create = true
    }
    availability_zones = ["us-east-1a", "us-east-1b"]
  }
  vpc = { vpc_id = "vpc-xxxx", subnet_group = "globaldb-subnet-group", subnet_ids = ["subnet-a", "subnet-b"] }
  security_groups = { create = false, name = "sg-globaldb" }
}
```


## Examples

The following Terragrunt examples are based on common Gruntwork-style boilerplates (often generated
with `terragrunt scaffold` and stored under a `.boilerplate` directory). Adjust include/remote state
according to your environment.

1) Minimal provisioned Aurora PostgreSQL cluster

```hcl
terraform {
  source = "git::https://github.com/cloudopsworks/terraform-module-aws-rds-aurora.git?ref=vX.Y.Z"
}

inputs = {
  settings = {
    name_prefix        = "mydb"
    engine_type        = "aurora-postgresql"
    engine_version     = "15.3"
    instance_size      = "db.r6g.large"
    availability_zones = ["us-east-1a", "us-east-1b"]
    backup = { retention_period = 7 }
  }
  vpc = {
    vpc_id       = "vpc-xxxxxxxxxxxx"
    subnet_group = "mydb-subnet-group"
    subnet_ids   = ["subnet-aaaa", "subnet-bbbb"]
  }
  security_groups = { create = false, name = "sg-mydb" }
  org = { organization_name = "acme", organization_unit = "platform", environment_type = "prod", environment_name = "us-east-1" }
}
```

2) Serverless v2 Aurora MySQL cluster with scaling limits

```hcl
terraform {
  source = "git::https://github.com/cloudopsworks/terraform-module-aws-rds-aurora.git?ref=vX.Y.Z"
}

inputs = {
  settings = {
    name_prefix        = "srvless"
    engine_type        = "aurora-mysql"
    engine_version     = "8.0.mysql_aurora.3.06.0"
    instance_size      = "db.serverless"
    availability_zones = ["us-east-1a", "us-east-1b"]
    serverless = {
      enabled = true
      v2      = true
      scaling_configuration = {
        min_capacity = 0.5
        max_capacity = 8
      }
    }
    backup = { retention_period = 7 }
  }
  vpc = {
    vpc_id       = "vpc-xxxxxxxxxxxx"
    subnet_group = "srvless-subnets"
  }
  security_groups = { create = false, name = "sg-db-internal" }
  org = { organization_name = "acme", organization_unit = "platform", environment_type = "dev", environment_name = "ue1" }
}
```

3) Recover cluster from snapshot and enable Events to SNS topic

```hcl
terraform {
  source = "git::https://github.com/cloudopsworks/terraform-module-aws-rds-aurora.git?ref=vX.Y.Z"
}

inputs = {
  settings = {
    name_prefix        = "restore"
    engine_type        = "aurora-postgresql"
    engine_version     = "15.3"
    instance_size      = "db.r6g.large"
    availability_zones = ["us-east-1a", "us-east-1b"]
    recovery = {
      enabled             = true
      snapshot_identifier = "mydb-cluster-snap-2024-12-01"
    }
    events = {
      enabled        = true
      sns_topic_name = "aurora-events"
      categories     = ["failover", "maintenance", "failure"]
      instances      = true
    }
  }
  vpc = { vpc_id = "vpc-xxxxxxxxxxxx", subnet_group = "restore-subnets" }
  security_groups = { create = false, name = "sg-db-internal" }
  org = { organization_name = "acme", organization_unit = "platform", environment_type = "staging", environment_name = "ue1" }
}
```

4) Managed master password with rotation and Hoop outputs

```hcl
terraform {
  source = "git::https://github.com/cloudopsworks/terraform-module-aws-rds-aurora.git?ref=vX.Y.Z"
}

inputs = {
  settings = {
    name_prefix        = "secure"
    engine_type        = "aurora-postgresql"
    engine_version     = "15.3"
    instance_size      = "db.r6g.large"
    availability_zones = ["us-east-1a", "us-east-1b"]
    managed_password            = true
    managed_password_rotation   = true
    password_secret_kms_key_id  = "alias/aurora/secrets"
    hoop = {
      enabled = true
      agent   = "corp-agent"
      tags    = ["prod", "aurora"]
    }
  }
  vpc = { vpc_id = "vpc-xxxxxxxxxxxx", subnet_group = "secure-subnets" }
  security_groups = { create = false, name = "sg-db-internal" }
  org = { organization_name = "acme", organization_unit = "platform", environment_type = "prod", environment_name = "ue1" }
  run_hoop = false # set true to run local-exec that creates Hoop connection automatically
}
```



## Makefile Targets
```
Available targets:

  help                                Help screen
  help/all                            Display help for all targets
  help/short                          This help short screen
  init/aws                            Initialize the project for a specific cloud provider: AWS
  init/azurerm                        Initialize the project for a specific cloud provider: Azure RM
  init/gcp                            Initialize the project for a specific cloud provider: GCP
  lint                                Lint terraform/opentofu code
  tag                                 Tag the current version

```
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.3 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | ~> 6.4 |
| <a name="requirement_random"></a> [random](#requirement\_random) | ~> 3.0 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_aws"></a> [aws](#provider\_aws) | ~> 6.4 |
| <a name="provider_null"></a> [null](#provider\_null) | n/a |
| <a name="provider_random"></a> [random](#provider\_random) | ~> 3.0 |
| <a name="provider_time"></a> [time](#provider\_time) | n/a |

## Modules

| Name | Source | Version |
|------|--------|---------|
| <a name="module_mysql"></a> [mysql](#module\_mysql) | ./hoop | n/a |
| <a name="module_mysql_managed"></a> [mysql\_managed](#module\_mysql\_managed) | ./hoop | n/a |
| <a name="module_postgres"></a> [postgres](#module\_postgres) | ./hoop | n/a |
| <a name="module_postgres_managed"></a> [postgres\_managed](#module\_postgres\_managed) | ./hoop | n/a |
| <a name="module_tags"></a> [tags](#module\_tags) | cloudopsworks/tags/local | 1.0.9 |

## Resources

| Name | Type |
|------|------|
| [aws_cloudwatch_log_group.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudwatch_log_group) | resource |
| [aws_db_event_subscription.events_cluster](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_event_subscription) | resource |
| [aws_db_event_subscription.events_instances](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_event_subscription) | resource |
| [aws_db_parameter_group.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/db_parameter_group) | resource |
| [aws_iam_role.rds_monitoring](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/iam_role) | resource |
| [aws_iam_role_policy_attachment.rds_monitoring](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/iam_role_policy_attachment) | resource |
| [aws_kms_alias.perf](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/kms_alias) | resource |
| [aws_kms_alias.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/kms_alias) | resource |
| [aws_kms_key.perf](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/kms_key) | resource |
| [aws_kms_key.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/kms_key) | resource |
| [aws_rds_cluster.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/rds_cluster) | resource |
| [aws_rds_cluster_endpoint.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/rds_cluster_endpoint) | resource |
| [aws_rds_cluster_instance.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/rds_cluster_instance) | resource |
| [aws_rds_cluster_parameter_group.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/rds_cluster_parameter_group) | resource |
| [aws_rds_global_cluster.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/rds_global_cluster) | resource |
| [aws_secretsmanager_secret.rds](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/secretsmanager_secret) | resource |
| [aws_secretsmanager_secret_rotation.managed](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/secretsmanager_secret_rotation) | resource |
| [aws_secretsmanager_secret_rotation.user](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/secretsmanager_secret_rotation) | resource |
| [aws_secretsmanager_secret_version.rds](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/secretsmanager_secret_version) | resource |
| [aws_security_group.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/security_group) | resource |
| [aws_vpc_security_group_ingress_rule.this_cidr](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/vpc_security_group_ingress_rule) | resource |
| [aws_vpc_security_group_ingress_rule.this_sg](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/vpc_security_group_ingress_rule) | resource |
| [null_resource.hoop_connection_mysql](https://registry.terraform.io/providers/hashicorp/null/latest/docs/resources/resource) | resource |
| [null_resource.hoop_connection_mysql_managed](https://registry.terraform.io/providers/hashicorp/null/latest/docs/resources/resource) | resource |
| [null_resource.hoop_connection_postgres](https://registry.terraform.io/providers/hashicorp/null/latest/docs/resources/resource) | resource |
| [null_resource.hoop_connection_postgres_managed](https://registry.terraform.io/providers/hashicorp/null/latest/docs/resources/resource) | resource |
| [random_password.randompass](https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/password) | resource |
| [random_string.final_snapshot](https://registry.terraform.io/providers/hashicorp/random/latest/docs/resources/string) | resource |
| [time_rotating.randompass](https://registry.terraform.io/providers/hashicorp/time/latest/docs/resources/rotating) | resource |
| [aws_caller_identity.current](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/caller_identity) | data source |
| [aws_db_cluster_snapshot.recovery](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/db_cluster_snapshot) | data source |
| [aws_db_instance.migration_source](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/db_instance) | data source |
| [aws_iam_policy_document.rds_kms_policy](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_policy_document) | data source |
| [aws_iam_policy_document.rds_monitoring](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_policy_document) | data source |
| [aws_kms_alias.perf](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/kms_alias) | data source |
| [aws_kms_alias.rds](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/kms_alias) | data source |
| [aws_kms_key.perf](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/kms_key) | data source |
| [aws_kms_key.rds](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/kms_key) | data source |
| [aws_lambda_function.rotation_function](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/lambda_function) | data source |
| [aws_region.current](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/region) | data source |
| [aws_secretsmanager_secret.rds_managed](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/secretsmanager_secret) | data source |
| [aws_security_group.allow_sg](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/security_group) | data source |
| [aws_security_group.this](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/security_group) | data source |
| [aws_sns_topic.events](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/sns_topic) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_extra_tags"></a> [extra\_tags](#input\_extra\_tags) | n/a | `map(string)` | `{}` | no |
| <a name="input_is_hub"></a> [is\_hub](#input\_is\_hub) | Establish this is a HUB or spoke configuration | `bool` | `false` | no |
| <a name="input_org"></a> [org](#input\_org) | n/a | <pre>object({<br/>    organization_name = string<br/>    organization_unit = string<br/>    environment_type  = string<br/>    environment_name  = string<br/>  })</pre> | n/a | yes |
| <a name="input_run_hoop"></a> [run\_hoop](#input\_run\_hoop) | Run hoop with agent, be careful with this option, it will run the HOOP command in output in a null\_resource | `bool` | `false` | no |
| <a name="input_security_groups"></a> [security\_groups](#input\_security\_groups) | Security groups for RDS instance | `any` | `{}` | no |
| <a name="input_settings"></a> [settings](#input\_settings) | Settings for RDS instance | `any` | `{}` | no |
| <a name="input_spoke_def"></a> [spoke\_def](#input\_spoke\_def) | n/a | `string` | `"001"` | no |
| <a name="input_vpc"></a> [vpc](#input\_vpc) | VPC for RDS instance | `any` | `{}` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_cluster_kms_key_alias"></a> [cluster\_kms\_key\_alias](#output\_cluster\_kms\_key\_alias) | n/a |
| <a name="output_cluster_kms_key_arn"></a> [cluster\_kms\_key\_arn](#output\_cluster\_kms\_key\_arn) | n/a |
| <a name="output_cluster_kms_key_id"></a> [cluster\_kms\_key\_id](#output\_cluster\_kms\_key\_id) | n/a |
| <a name="output_cluster_secrets_credentials"></a> [cluster\_secrets\_credentials](#output\_cluster\_secrets\_credentials) | n/a |
| <a name="output_cluster_secrets_credentials_arn"></a> [cluster\_secrets\_credentials\_arn](#output\_cluster\_secrets\_credentials\_arn) | n/a |
| <a name="output_hoop_connection_mysql"></a> [hoop\_connection\_mysql](#output\_hoop\_connection\_mysql) | n/a |
| <a name="output_hoop_connection_mysql_managed"></a> [hoop\_connection\_mysql\_managed](#output\_hoop\_connection\_mysql\_managed) | n/a |
| <a name="output_hoop_connection_name"></a> [hoop\_connection\_name](#output\_hoop\_connection\_name) | n/a |
| <a name="output_hoop_connection_postgres"></a> [hoop\_connection\_postgres](#output\_hoop\_connection\_postgres) | n/a |
| <a name="output_hoop_connection_postgres_managed"></a> [hoop\_connection\_postgres\_managed](#output\_hoop\_connection\_postgres\_managed) | n/a |
| <a name="output_rds_cluster_arn"></a> [rds\_cluster\_arn](#output\_rds\_cluster\_arn) | n/a |
| <a name="output_rds_cluster_endpoint"></a> [rds\_cluster\_endpoint](#output\_rds\_cluster\_endpoint) | n/a |
| <a name="output_rds_cluster_hosted_zone_id"></a> [rds\_cluster\_hosted\_zone\_id](#output\_rds\_cluster\_hosted\_zone\_id) | n/a |
| <a name="output_rds_cluster_instance_endpoints"></a> [rds\_cluster\_instance\_endpoints](#output\_rds\_cluster\_instance\_endpoints) | n/a |
| <a name="output_rds_cluster_instance_ids"></a> [rds\_cluster\_instance\_ids](#output\_rds\_cluster\_instance\_ids) | n/a |
| <a name="output_rds_cluster_master_username"></a> [rds\_cluster\_master\_username](#output\_rds\_cluster\_master\_username) | n/a |
| <a name="output_rds_cluster_port"></a> [rds\_cluster\_port](#output\_rds\_cluster\_port) | n/a |
| <a name="output_rds_cluster_reader_endpoint"></a> [rds\_cluster\_reader\_endpoint](#output\_rds\_cluster\_reader\_endpoint) | n/a |
| <a name="output_rds_global_cluster_id"></a> [rds\_global\_cluster\_id](#output\_rds\_global\_cluster\_id) | n/a |
| <a name="output_rds_security_group_ids"></a> [rds\_security\_group\_ids](#output\_rds\_security\_group\_ids) | n/a |



## Help

**Got a question?** We got answers. 

File a GitHub [issue](https://github.com/cloudopsworks/terraform-module-aws-rds-aurora/issues), send us an [email][email] or join our [Slack Community][slack].

[![README Commercial Support][readme_commercial_support_img]][readme_commercial_support_link]

## DevOps Tools

## Slack Community


## Newsletter

## Office Hours

## Contributing

### Bug Reports & Feature Requests

Please use the [issue tracker](https://github.com/cloudopsworks/terraform-module-aws-rds-aurora/issues) to report any bugs or file feature requests.

### Developing




## Copyrights

Copyright Â© 2024-2026 [Cloud Ops Works LLC](https://cloudops.works)





## License 

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0) 

See [LICENSE](LICENSE) for full details.

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      https://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.









## Trademarks

All other trademarks referenced herein are the property of their respective owners.

## About

This project is maintained by [Cloud Ops Works LLC][website]. 


### Contributors

|  [![Cristian Beraha][berahac_avatar]][berahac_homepage]<br/>[Cristian Beraha][berahac_homepage] |
|---|

  [berahac_homepage]: https://github.com/berahac
  [berahac_avatar]: https://github.com/berahac.png?size=50

[![README Footer][readme_footer_img]][readme_footer_link]
[![Beacon][beacon]][website]

  [logo]: https://cloudops.works/logo-300x69.svg
  [docs]: https://cowk.io/docs?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=docs
  [website]: https://cowk.io/homepage?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=website
  [github]: https://cowk.io/github?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=github
  [jobs]: https://cowk.io/jobs?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=jobs
  [hire]: https://cowk.io/hire?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=hire
  [slack]: https://cowk.io/slack?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=slack
  [linkedin]: https://cowk.io/linkedin?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=linkedin
  [twitter]: https://cowk.io/twitter?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=twitter
  [testimonial]: https://cowk.io/leave-testimonial?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=testimonial
  [office_hours]: https://cloudops.works/office-hours?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=office_hours
  [newsletter]: https://cowk.io/newsletter?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=newsletter
  [email]: https://cowk.io/email?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=email
  [commercial_support]: https://cowk.io/commercial-support?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=commercial_support
  [we_love_open_source]: https://cowk.io/we-love-open-source?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=we_love_open_source
  [terraform_modules]: https://cowk.io/terraform-modules?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=terraform_modules
  [readme_header_img]: https://cloudops.works/readme/header/img
  [readme_header_link]: https://cloudops.works/readme/header/link?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=readme_header_link
  [readme_footer_img]: https://cloudops.works/readme/footer/img
  [readme_footer_link]: https://cloudops.works/readme/footer/link?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=readme_footer_link
  [readme_commercial_support_img]: https://cloudops.works/readme/commercial-support/img
  [readme_commercial_support_link]: https://cloudops.works/readme/commercial-support/link?utm_source=github&utm_medium=readme&utm_campaign=cloudopsworks/terraform-module-aws-rds-aurora&utm_content=readme_commercial_support_link
  [share_twitter]: https://twitter.com/intent/tweet/?text=Terraform+AWS+RDS+Aurora+Cluster/DB+Module&url=https://github.com/cloudopsworks/terraform-module-aws-rds-aurora
  [share_linkedin]: https://www.linkedin.com/shareArticle?mini=true&title=Terraform+AWS+RDS+Aurora+Cluster/DB+Module&url=https://github.com/cloudopsworks/terraform-module-aws-rds-aurora
  [share_reddit]: https://reddit.com/submit/?url=https://github.com/cloudopsworks/terraform-module-aws-rds-aurora
  [share_facebook]: https://facebook.com/sharer/sharer.php?u=https://github.com/cloudopsworks/terraform-module-aws-rds-aurora
  [share_googleplus]: https://plus.google.com/share?url=https://github.com/cloudopsworks/terraform-module-aws-rds-aurora
  [share_email]: mailto:?subject=Terraform+AWS+RDS+Aurora+Cluster/DB+Module&body=https://github.com/cloudopsworks/terraform-module-aws-rds-aurora
  [beacon]: https://ga-beacon.cloudops.works/G-7XWMFVFXZT/cloudopsworks/terraform-module-aws-rds-aurora?pixel&cs=github&cm=readme&an=terraform-module-aws-rds-aurora
